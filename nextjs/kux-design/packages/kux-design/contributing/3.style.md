# 样式规范

* 组件样式使用 sass 编写
* **不使用 css module**: 保证样式的开放性(可容易的被使用方修改覆盖), 采用最普通的js + css 分离方式.


若你不不熟悉 sass, 可以阅读 [sass 教程](https://www.sass.hk/docs/)


### 1. 使用 `component($name)` mixin

所有组件样式必须包装在 sass mixin `component($name)` 中，自动增加前缀命名空间。

```scss
@include component('button') {
  display: inline-flex;
  align-items: center;

  &-icon {
    margin-inline-end: 4px;
  }

  &.is-large {
    font-size: 18px
  }

  &[disabled] {
    opacity: 0.4;
    cursor: not-allowed;
  }
}
```

### 2. 类名格式

* 组件中的类名仅用于标记元素结构
* 类名使用连形符 `-`分隔, 保持简洁明了
* 样式层级不超过 3 层, 结构在元素内唯一即可

```scss
@include component('button') {
  &-label {
    ...
  }

  &-icon {
    ...
  }
}
```

### 3. 状态类命名

* 使用 `.is-<state>` 作为状态类名
* 非常规状态可以使用 `.has-<desc>`
* 原生状态使用 `&[disabled]`/`&[checked]` 而非类名

```scss
@include component('button') {
  &.is-checked { ... }
  &.has-icon { ... }
  &[disabled] { ... }
}
```

### 4. 动画命名

* 动画使用 `@include keyframes($name){xxx}` 定义, 会自动给动画增加 `$ns` 前缀
* 使用动画则使用sass 函数 `get-animation-name($name)`
* 若为公共动画, 可以在 `packages/kux-design/src/style/animation.scss` 中声明

```scss
@include keyframes(fade-in) {
  from { opacity: 0; }
  to { opacity: 1; }
}

// 使用动画则使用 get-animation-name
.some-class {
  animation: get-animation-name(fade-in) 0.3s ease-in-out;
}
```

## 对齐规范 & RTL

* 属性命名上优先使用 `start` / `end` 而非 `left` / `right`
* 优先使用 css 逻辑属性支持RTL, [CSS Logical](https://klarkchat.sg.larksuite.com/wiki/KCUDwK9ONimuyDkvLg6lc38dgsd).

```scss
margin-inline-start: 8px;
padding-inline-end: 12px;
```
* 特殊情况使用 根元素 `[dir]` 判断来做特殊处理

## 主题变量管理

* 所有样式变量在 `style/vars.scss` 中定义，并通过 `get-theme($key)` 获取
* 使用 CSS 变量实现主题隔离，支持通过 `[data-theme="dark"]` 形式切换主题
